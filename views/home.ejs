<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/home.css">
  <script type="module" src="/routes/homeRoutes.js"></script>
</head>
<header><%- include('./partials/nav') %></header>

<body> 
  
  <h1>WELCOME TO THE COMMUNITY PORTAL </h1> <!-- heading for the portal -->
   <!-- welcome message -->
   <p class="intro">
  
      An area for connection, collaboration, and exciting events!
      Whether you are looking to engage with local initiatives, discover upcoming 
      activities, or simply connect with like-minded individuals, you're in the right place.
      Stay tuned for exciting updates and upcoming events, all created to bring
      our community closer together. Let's make a differenceâ€”together as one!
   </p> 
  <br>
  

  <!-- Card Placeholder using Bootstrap-->
 <div class="container"> 
   <div id = "eventRow" class="row g-3">          <!-- Row for the card with g-3 spacing -->
      <div class="col-12 col-md-6 col-lg-4">      <!-- Column for event card with responsiveness-->
        <div class="cardh" >                      <!-- Event Card container -->
         <div class="card-body">                                      <!-- Contains card details -->
            <h3 class="text-center mb-4">EVENT COMING SOON</h3>       <!-- Placeholder heading -->
            <!-- Placeholder for the Event Details -->
             <span class="placeholder col-6 bg-success"></span>
               <p class="card-text placeholder-glow">
                 <span class="placeholder col-7 bg-success"></span>
                  <span class="placeholder col-7 bg-success"></span> 
               </p>
                <a class="btn btn-success disabled placeholder col-6" aria-disabled="true"></a>    <!--Disabled button  -->
          </div>
       </div>
     </div>
   </div>
 </div>

 <script>
  const events = <%- JSON.stringify(events) %>;
  const today = new Date().toISOString().split("T")[0];
  const upcomingEvents = events.filter(event => event.date >= today);

  const eventRow = document.getElementById("eventRow");
  eventRow.innerHTML = "";

  upcomingEvents.forEach(event => {
    const col = document.createElement("div");
    col.className = "col-12 col-md-6 col-lg-4";
    col.innerHTML = `
      <div class="cardh">
        <div class="card-body">
          <h3 class="text-center mb-4">${event.title}</h3>
          <p class="card-text">
            <strong>Date:</strong> ${event.date}<br>
            <strong>Location:</strong> ${event.location}
          </p>
          <a href="/events" class="btn btn-success">View Details</a>
        </div>
      </div>
    `;
    eventRow.appendChild(col);
  });
</script>
  

</body>
<footer><%- include('./partials/footer') %></footer>
</html>
